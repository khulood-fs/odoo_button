<odoo>
    <data>
        <!-- Inherit the form view for CRM Lead -->
        <record id="view_crm_lead_form_inherit" model="ir.ui.view">
            <field name="name">crm.lead.form.inherit</field>
            <field name="model">crm.lead</field>
            <field name="inherit_id" ref="crm.crm_case_form_view_leads"/>
            <field name="arch" type="xml">
                <xpath expr="//header" position="inside">
                    <button name="test_code_v17" string="Test Code v17" type="object" class="btn-primary"/>
                </xpath>
            </field>
        </record>

        <!-- Define the method to be called by the button -->
        <record id="action_test_code_v17" model="ir.actions.server">
            <field name="name">Test Code v17</field>
            <field name="model_id" ref="crm.model_crm_lead"/>
            <field name="binding_model_id" ref="crm.model_crm_lead"/>
            <field name="state">code</field>
            <field name="code">
                action = self.test_code_v17()
            </field>
        </record>
    </data>
</odoo>
